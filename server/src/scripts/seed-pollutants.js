// scripts/seed-pollutants.js
const mongoose = require('mongoose');
const Pollutant = require('../models/pollutant');
require('dotenv').config({ path: __dirname + '/../../.env' });


const pollutantsData = [
  {
    id: 'pm10',
    name: 'PM10',
    fullName: 'Тверді частинки розміром до 10 мкм',
    description: 'Це тверді мікрочастинки розміром до 10 мікрометрів, які можуть потрапляти до дихальних шляхів і викликати проблеми з диханням.',
    limit: 50,
    unit: 'мкг/м³',
    source: 'Будівництво, дорожній пил, промисловість, спалювання палива',
    impact: 'Подразнення дихальних шляхів, загострення астми, бронхіту, серцево-судинні захворювання'
  },
  {
    id: 'pm2_5',
    name: 'PM2.5',
    fullName: 'Тверді частинки розміром до 2.5 мкм',
    description: 'Це дрібні тверді частинки розміром до 2.5 мікрометрів, які можуть глибоко проникати в легені та потрапляти в кровоносну систему.',
    limit: 25,
    unit: 'мкг/м³',
    source: 'Вихлопні гази, спалювання біомаси, промислові викиди',
    impact: 'Серцево-судинні захворювання, проблеми з диханням, зниження функції легень, пошкодження нервової системи'
  },
  {
    id: 'carbon_monoxide',
    name: 'CO',
    fullName: 'Чадний газ (монооксид вуглецю)',
    description: 'Безбарвний газ без запаху, який утворюється внаслідок неповного згоряння вуглецевмісних матеріалів.',
    limit: 10000,
    unit: 'мкг/м³',
    source: 'Автомобільні вихлопи, опалювальні прилади, промислові процеси',
    impact: 'Зменшує здатність крові переносити кисень, головний біль, запаморочення, при високих концентраціях смертельно небезпечний'
  },
  {
    id: 'nitrogen_dioxide',
    name: 'NO₂',
    fullName: 'Діоксид азоту',
    description: 'Червонувато-коричневий газ з гострим запахом, є одним з основних забруднювачів повітря.',
    limit: 200,
    unit: 'мкг/м³',
    source: 'Вихлопні гази, електростанції, промисловість',
    impact: 'Подразнення дихальних шляхів, загострення астми та інших респіраторних захворювань'
  },
  {
    id: 'sulphur_dioxide',
    name: 'SO₂',
    fullName: 'Діоксид сірки',
    description: 'Безбарвний газ з гострим запахом, утворюється при спалюванні палива, що містить сірку.',
    limit: 350,
    unit: 'мкг/м³',
    source: 'Спалювання вугілля, нафтопереробка, виробництво металів',
    impact: 'Подразнення очей, горла, легенів, загострення астми та бронхіту'
  },
  {
    id: 'ozone',
    name: 'O₃',
    fullName: 'Озон (приземний)',
    description: 'Газ з різким запахом, який на рівні землі є забруднювачем і складовою смогу.',
    limit: 120,
    unit: 'мкг/м³',
    source: 'Утворюється в результаті хімічних реакцій між оксидами азоту та VOC під дією сонячного світла',
    impact: 'Подразнення дихальних шляхів, зниження функції легень, загострення астми та інших хронічних захворювань легень'
  }
];

async function seedDatabase() {
  try {
    // Підключення до бази даних
    await mongoose.connect(process.env.MONGODB_URI);
    console.log('Connected to MongoDB');
    
    // Видалення існуючих даних
    await Pollutant.deleteMany({});
    console.log('Cleared pollutants collection');
    
    // Додавання нових даних
    await Pollutant.insertMany(pollutantsData);
    console.log('Added pollutants data');
    
    console.log('Database seeding completed!');
  } catch (error) {
    console.error('Error seeding database:', error);
  } finally {
    // Закриття з'єднання
    mongoose.connection.close();
  }
}

seedDatabase();